{"ast":null,"code":"var _jsxFileName = \"/Users/macbook/Desktop/macbook-React/React_Shoppingcart/shoppingcart/src/components/Cart.js\";\nimport React, { Component } from \"react\";\nimport \"./cart.css\";\nimport { getInventory, getCart, addToCart, updateCart, deleteFromCart, checkout } from \"../APIs/api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Cart extends Component {\n  constructor(props) {\n    super(props);\n    this.handleIncrease = itemId => {\n      this.setState(prevState => ({\n        inputAmounts: {\n          ...prevState.inputAmounts,\n          [itemId]: (prevState.inputAmounts[itemId] || 0) + 1\n        }\n      }));\n    };\n    this.handleDecrease = itemId => {\n      this.setState(prevState => ({\n        inputAmounts: {\n          ...prevState.inputAmounts,\n          [itemId]: Math.max((prevState.inputAmounts[itemId] || 0) - 1, 0)\n        }\n      }));\n    };\n    this.addToCart = async item => {\n      const amount = this.state.inputAmounts[item.id] || 0;\n      if (amount === 0) return;\n      const existingItem = this.state.cart.find(cartItem => cartItem.id === item.id);\n      let updatedCart;\n      if (existingItem) {\n        updatedCart = this.state.cart.map(cartItem => cartItem.id === item.id ? {\n          ...cartItem,\n          amount: cartItem.amount + amount\n        } : cartItem);\n        await updateCart(existingItem.id, {\n          amount: updatedCart.find(cartItem => cartItem.id === existingItem.id).amount\n        });\n      } else {\n        const newItem = {\n          ...item,\n          amount\n        };\n        updatedCart = [...this.state.cart, newItem];\n        await addToCart(newItem);\n      }\n      this.setState({\n        cart: updatedCart\n      });\n    };\n    this.removeFromCart = async itemToRemove => {\n      await deleteFromCart(itemToRemove.id);\n      const updatedCart = this.state.cart.filter(item => item.id !== itemToRemove.id);\n      this.setState({\n        cart: updatedCart\n      });\n    };\n    this.handleCheckout = async () => {\n      await checkout();\n      this.setState({\n        cart: []\n      });\n    };\n    this.state = {\n      inventory: [],\n      cart: [],\n      inputAmounts: {}\n    };\n  }\n  async componentDidMount() {\n    try {\n      const inventoryData = await getInventory();\n      const cartData = await getCart();\n      this.setState({\n        inventory: inventoryData,\n        cart: cartData\n      });\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"inventory-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Inventory\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this), this.state.inventory.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"inventory-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: item.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"inventory-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"decrease-btn\",\n              onClick: () => this.handleDecrease(item.id),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"numItemStatement\",\n              children: this.state.inputAmounts[item.id] || 0\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"increase-btn\",\n              onClick: () => this.handleIncrease(item.id),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"add-to-cart-btn\",\n            onClick: () => this.addToCart(item),\n            children: \"add to cart\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Shopping Cart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), this.state.cart.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"cart-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [item.name, \" x \", item.amount]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"delete-btn\",\n            onClick: () => this.removeFromCart(item),\n            children: \"delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this)]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 13\n        }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"checkout-btn\",\n          onClick: this.handleCheckout,\n          children: \"checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","getInventory","getCart","addToCart","updateCart","deleteFromCart","checkout","jsxDEV","_jsxDEV","Cart","constructor","props","handleIncrease","itemId","setState","prevState","inputAmounts","handleDecrease","Math","max","item","amount","state","id","existingItem","cart","find","cartItem","updatedCart","map","newItem","removeFromCart","itemToRemove","filter","handleCheckout","inventory","componentDidMount","inventoryData","cartData","error","console","render","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","onClick"],"sources":["/Users/macbook/Desktop/macbook-React/React_Shoppingcart/shoppingcart/src/components/Cart.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport \"./cart.css\";\nimport {\n  getInventory,\n  getCart,\n  addToCart,\n  updateCart,\n  deleteFromCart,\n  checkout,\n} from \"../APIs/api\";\n\nexport default class Cart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      inventory: [],\n      cart: [],\n      inputAmounts: {},\n    };\n  }\n\n  async componentDidMount() {\n    try {\n      const inventoryData = await getInventory();\n      const cartData = await getCart();\n      this.setState({ inventory: inventoryData, cart: cartData });\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    }\n  }\n\n  handleIncrease = (itemId) => {\n    this.setState((prevState) => ({\n      inputAmounts: {\n        ...prevState.inputAmounts,\n        [itemId]: (prevState.inputAmounts[itemId] || 0) + 1,\n      },\n    }));\n  };\n\n  handleDecrease = (itemId) => {\n    this.setState((prevState) => ({\n      inputAmounts: {\n        ...prevState.inputAmounts,\n        [itemId]: Math.max((prevState.inputAmounts[itemId] || 0) - 1, 0),\n      },\n    }));\n  };\n\n  addToCart = async (item) => {\n    const amount = this.state.inputAmounts[item.id] || 0;\n    if (amount === 0) return;\n\n    const existingItem = this.state.cart.find(\n      (cartItem) => cartItem.id === item.id\n    );\n    let updatedCart;\n\n    if (existingItem) {\n      updatedCart = this.state.cart.map((cartItem) =>\n        cartItem.id === item.id\n          ? { ...cartItem, amount: cartItem.amount + amount }\n          : cartItem\n      );\n      await updateCart(existingItem.id, {\n        amount: updatedCart.find((cartItem) => cartItem.id === existingItem.id)\n          .amount,\n      });\n    } else {\n      const newItem = { ...item, amount };\n      updatedCart = [...this.state.cart, newItem];\n      await addToCart(newItem);\n    }\n\n    this.setState({ cart: updatedCart });\n  };\n\n  removeFromCart = async (itemToRemove) => {\n    await deleteFromCart(itemToRemove.id);\n    const updatedCart = this.state.cart.filter(\n      (item) => item.id !== itemToRemove.id\n    );\n    this.setState({ cart: updatedCart });\n  };\n\n  handleCheckout = async () => {\n    await checkout();\n    this.setState({ cart: [] });\n  };\n\n  render() {\n    return (\n      <div className=\"cart-page\">\n        <div className=\"inventory-container\">\n          <h2>Inventory</h2>\n          {this.state.inventory.map((item) => (\n            <div key={item.id} className=\"inventory-item\">\n              <span>{item.name}</span>\n              <div className=\"inventory-controls\">\n                <button\n                  className=\"decrease-btn\"\n                  onClick={() => this.handleDecrease(item.id)}\n                >\n                  -\n                </button>\n                <span className=\"numItemStatement\">\n                  {this.state.inputAmounts[item.id] || 0}\n                </span>\n                <button\n                  className=\"increase-btn\"\n                  onClick={() => this.handleIncrease(item.id)}\n                >\n                  +\n                </button>\n              </div>\n              <button\n                className=\"add-to-cart-btn\"\n                onClick={() => this.addToCart(item)}\n              >\n                add to cart\n              </button>\n            </div>\n          ))}\n        </div>\n\n        <div className=\"cart-container\">\n          <h2>Shopping Cart</h2>\n          {this.state.cart.map((item) => (\n            <div key={item.id} className=\"cart-item\">\n              <span>\n                {item.name} x {item.amount}\n              </span>\n              <button\n                className=\"delete-btn\"\n                onClick={() => this.removeFromCart(item)}\n              >\n                delete\n              </button>\n            </div>\n          ))}\n          <button className=\"checkout-btn\" onClick={this.handleCheckout}>\n            checkout\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}